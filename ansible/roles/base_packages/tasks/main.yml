---

- name: Uninstall unwanted packages
  yum:
    name:
      - cronie-anacron
      - postfix
    state: absent

# Only for the fake hostname that packer uses when building the base image
- name: Upgrade all packages
  yum:
    pkg: "*"
    state: latest
  when: inventory_hostname == "base"

- name: Install basic QoL packages
  yum:
    name:
      - awscli
      - bind-utils
      - cloud-init
      - cronie-noanacron
      - expect
      - git
      - jq
      - krb5-workstation
      - lsof
      - man
      - man-pages
      - mosh
      - nc
      - openldap-clients
      - pv
      - python-boto
      - python-pip
      - python2-boto3
      - strace
      - sysstat
      - telnet
      - tmux
      - vim
      - wget
      - whois
      - zstd
    state: present
