---

- name: Install build dependencies
  yum:
    pkg: "{{ item }}"
    state: latest
  with_items:
    - python-devel
    - python-virtualenv
    - cairo-devel
    - libffi-devel

- name: Install graphite
  pip:
    virtualenv: /opt/graphite
    virtualenv_site_packages: no
    name: "{{ item }}"
    state: latest
  with_items:
    - six
    - packaging
    - appdirs
    - https://github.com/graphite-project/whisper/tarball/master
    - https://github.com/graphite-project/carbon/tarball/master
    - https://github.com/graphite-project/graphite-web/tarball/master
  
