---

tld: "{{ lookup( 'env', 'TLD' ) }}"
subd: "{{ [( aws_status == 'prod' ) | ternary('a', 'x'), 'mail', tld ] | join('.') }}"

aws_region: "{{ lookup('env', 'AWS_DEFAULT_REGION') }}"
aws_region_group: "{{ groups['region_' ~ aws_region | replace('-', '_')] | default([]) }}"
aws_status: prod

sns_region: us-west-2
aws_ssh_key: '2015-10-16'

aws_iam_saml: 'arn:aws:iam::236262816615:saml-provider/UM_PROD_SHIB'
aws_iam_groups:
  - name: appdelivery-aws-admin
    policies:
      - 'arn:aws:iam::aws:policy/AdministratorAccess'
      - 'arn:aws:iam::aws:policy/job-function/Billing'
  - name: appdelivery-aws-readonly
    policies:
      - 'arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess'
      - 'arn:aws:iam::aws:policy/AmazonRoute53ReadOnlyAccess'
      - 'arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess'

yum_hostname: yum.{{ subd }}
yum_repo_path: "{{ ansible_facts.distribution | lower }}/{{ ansible_facts.distribution_major_version }}"

master_hostname: "{{ master_hostnames[aws_status][aws_region] }}.{{ subd }}"

master_hostnames:
  nonprod:
    us-east-2: pandora
  prod:
    us-west-2: mogo
    us-east-2: ego

rbldnsd_master: 141.211.21.71, 141.211.7.108

ops_email: blackops@{{ tld }}
ops_rootmail: blackops.{{ (aws_status == 'prod') | ternary('root', 'nonprod') }}@{{ tld }}

